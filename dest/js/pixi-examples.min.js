function getParameterByName(e){var i=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return i&&decodeURIComponent(i[1].replace(/\+/g," "))}function getMajorPixiVersion(e){var i=5;return"v"===e.substr(0,1)?i=parseInt(e.substr(1,1),10):"release"===e&&(i=4),i}jQuery(document).ready(function(l){window.onpopstate=function(e){c.pixiVersionString=getParameterByName("v")||"release",c.generateIFrameContent(),l(".select-group .select li.selected").removeClass("selected");var i=l('.select-group .select li[data-val="'+c.pixiVersionString+'"]');i.addClass("selected"),l(".select-group .select .current").text(i.text()),l(".main-content").animate({scrollTop:0},200)};var c=c||{};c.pixiVersionString=getParameterByName("v")||"release",c.majorPixiVersion=getMajorPixiVersion(c.pixiVersionString),c.exampleUrl="",c.exampleFilename="",c.exampleTitle="",c.exampleSourceCode="",c.exampleRequiredPlugins=[],c.exampleValidVersions=[],c.editorOptions={mode:"javascript",lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0,lineWrapping:!0},c.clickType=Modernizr.touchevents?"tap":"click",c.animTime=.15,c.resize=function(){},c.scriptsToLoad=["https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"],c.scriptsLoaded=0,"tap"===c.clickType&&c.scriptsToLoad.push("vendor/jquery.mobile.custom.min.js"),c.loadScriptsAsync=function(){for(var e=0;e<c.scriptsToLoad.length;e++)l.ajax({url:c.scriptsToLoad[e],dataType:"script",cache:!0,async:!0,success:c.fileLoaded});0===c.scriptsToLoad.length&&c.loadComplete()},c.fileLoaded=function(){c.scriptsLoaded++,c.scriptsLoaded===c.scriptsToLoad.length&&c.loadComplete()},c.loadComplete=function(){l.getJSON("examples/manifest.json",function(e){for(var i=Object.keys(e),t=0;t<i.length;t++){for(var a='<span class="section" data-section="'+i[t]+'">'+i[t]+'</span><ul data-section="'+i[t]+'">',n=e[i[t]],s=0;s<n.length;s++){var o=void 0!==n[s].plugins?n[s].plugins.join(","):"",r=void 0!==n[s].validVersions?n[s].validVersions.join(","):"";a+='<li data-src="'+n[s].entry+'" data-plugins="'+o+'" data-validVersions="'+r+'">'+n[s].title+"</li>"}a+="</ul>",l(".main-menu").append(a)}c.initNav()}),l.getJSON("https://api.github.com/repos/pixijs/pixi.js/git/refs/tags",function(t){var a=[];[4,5].forEach(function(i){var e=t.filter(function(e){return 0===e.ref.indexOf("refs/tags/v"+i)});3<e.length&&(e=e.slice(-3)),a=a.concat(e)}),a=a.map(function(e){return e.ref.replace("refs/tags/","")});for(var e=0;e<a.length;e++)l(".select-group .select ul").append('<li data-val="'+a[e]+'">'+a[e]+"</li>");l.getJSON("https://api.github.com/repos/pixijs/pixi.js/git/refs/heads",function(e){e=e.filter(function(e){return 0==e.ref.indexOf("refs/heads/next")}).map(function(e){return e.ref.replace("refs/heads/","")});for(var i=0;i<e.length;i++)l(".select-group .select ul").append('<li data-val="'+e[i]+'">'+e[i]+"</li>");var t=l('.select-group .select li[data-val="'+c.pixiVersionString+'"]');t.addClass("selected"),l(".select-group .select .current").text(t.text())})})},c.initNav=function(){if(l(".main-menu .section").on(c.clickType,function(){l(this).next("ul").slideToggle(250),l(this).toggleClass("open")}),l(".main-menu li").on(c.clickType,function(){if(!l(this).hasClass("selected")){l(".main-menu li.selected").removeClass("selected"),l(this).addClass("selected"),c.closeMobileNav();var e="/"+l(this).parent().attr("data-section")+"/"+l(this).attr("data-src");c.exampleTitle=l(this).text(),window.location.hash=e,document.title=c.exampleTitle+" - PixiJS Examples",ga("set",{page:e,title:c.exampleTitle}),ga("send","pageview"),c.exampleUrl="examples/js/"+l(this).parent().attr("data-section")+"/"+l(this).attr("data-src"),c.exampleFilename=l(this).attr("data-src");var i=l(this).attr("data-plugins");c.exampleRequiredPlugins=""===i?[]:i.split(",");var t=l(this).attr("data-validVersions");c.exampleValidVersions=""===t?[4,5]:t.split(",").map(function(e){return parseInt(e,10)}),l.ajax({url:"examples/js/"+l(this).parent().attr("data-section")+"/"+l(this).attr("data-src"),dataType:"text",success:function(e){c.exampleSourceCode=e,c.generateIFrameContent()}})}}),c.generateIFrameContent=function(){for(var e=document.querySelectorAll("iframe"),i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);l("#example").html('<iframe id="preview" src="blank.html"></iframe>'),l(".CodeMirror").remove(),l(".main-content #code").html(c.exampleSourceCode);var t="<!DOCTYPE html><html><head><style>body,html{margin:0px;height:100%;overflow:hidden;}canvas{width:100%;height:100%;}</style></head><body>";for(t+='<script src="https://code.jquery.com/jquery-3.3.1.min.js"><\/script>',t+='<script src="'+("local"===c.pixiVersionString?"dist/pixi.js":3===c.majorPixiVersion?"https://cdn.rawgit.com/GoodBoyDigital/pixi.js/"+c.pixiVersionString+"/bin/pixi.js":"https://d157l7jdn8e5sf.cloudfront.net/"+c.pixiVersionString+"/pixi.js")+'"><\/script>',c.majorPixiVersion<5&&(t+='<script src="pixi-plugins/pixi-legacy.js"><\/script>'),i=0;i<c.exampleRequiredPlugins.length;i++)t+='<script src="pixi-plugins/'+c.exampleRequiredPlugins[i]+'.js"><\/script>';c.editor=CodeMirror.fromTextArea(document.getElementById("code"),c.editorOptions),c.exampleRequiredPlugins.length?l("#code-header").text("Example Code (plugins used: "+c.exampleRequiredPlugins.toString()+")"):l("#code-header").text("Example Code"),!c.exampleValidVersions.length||-1<c.exampleValidVersions.indexOf(c.majorPixiVersion)?(l("#example-title").html(c.exampleTitle),t+="<script>window.onload = function(){"+c.exampleSourceCode+"}<\/script></body></html>",l(".example-frame").show()):(l("#example-title").html(c.exampleTitle+"<br><br><br><br><br><br><br>The selected version of PixiJS does not work with this example.<br><br>Selected version: v"+c.majorPixiVersion+"<br><br>Required version: v"+c.exampleValidVersions.toString()+"<br><br><br><br><br>"),l(".example-frame").hide());var a=document.getElementById("preview"),n=a.contentDocument||a.contentWindow.document;n.open(),n.write(t),n.close()},c.openMobileNav=function(){TweenMax.to("#line1",c.animTime,{y:0,ease:Linear.easeNone}),TweenMax.to("#line2",0,{alpha:0,ease:Linear.easeNone,delay:c.animTime}),TweenMax.to("#line3",c.animTime,{y:0,ease:Linear.easeNone}),TweenMax.to("#line1",c.animTime,{rotation:45,ease:Quart.easeOut,delay:c.animTime}),TweenMax.to("#line3",c.animTime,{rotation:-45,ease:Quart.easeOut,delay:c.animTime}),l(".main-nav").addClass("mobile-open")},c.closeMobileNav=function(){TweenMax.to("#line1",c.animTime,{rotation:0,ease:Linear.easeNone,delay:0}),TweenMax.to("#line3",c.animTime,{rotation:0,ease:Linear.easeNone,delay:0}),TweenMax.to("#line2",0,{alpha:1,ease:Quart.easeOut,delay:c.animTime}),TweenMax.to("#line1",c.animTime,{y:-8,ease:Quart.easeOut,delay:c.animTime}),TweenMax.to("#line3",c.animTime,{y:8,ease:Quart.easeOut,delay:c.animTime}),l(".main-nav").removeClass("mobile-open")},c.updateMenu=function(){l(".main-nav .main-menu ul li").each(function(){var e=l(this).attr("data-validVersions");-1===(""===e?[4,5]:e.split(",").map(function(e){return parseInt(e,10)})).indexOf(c.majorPixiVersion)?l(this).addClass("invalid"):l(this).removeClass("invalid")})},c.updateMenu(),l(".main-header .hamburger").on(c.clickType,function(e){return e.preventDefault(),l(".main-nav").hasClass("mobile-open")?c.closeMobileNav():c.openMobileNav(),!1}),""!==window.location.hash){var e=window.location.hash.replace("#/","").split("/");1<e.length&&0<l('.main-menu .section[data-section="'+e[0]+'"]').length&&(l('.main-menu .section[data-section="'+e[0]+'"]').trigger(c.clickType),0<l('.main-menu .section[data-section="'+e[0]+'"]').next().find('li[data-src="'+e[1]+'"]').length&&l('.main-menu .section[data-section="'+e[0]+'"]').next().find('li[data-src="'+e[1]+'"]').trigger(c.clickType))}else l(".main-menu .section").eq(0).trigger(c.clickType),l(".main-menu li").eq(0).trigger(c.clickType);l(".select-group").on(c.clickType,function(){l(this).find(".select").hasClass("open")?(l(this).find(".select").removeClass("open"),l(this).find("ul").slideUp(150)):(l(this).find(".select").addClass("open"),l(this).find("ul").slideDown(150))}),l(".select-group .select").on(c.clickType,"li",function(){l(this).hasClass("selected")||(l(".select-group .select li.selected").removeClass("selected"),l(this).addClass("selected"),l(".select-group .select .current").text(l(this).text()),c.pixiVersionString=l(this).attr("data-val"),c.majorPixiVersion=getMajorPixiVersion(c.pixiVersionString),window.history.pushState(c.pixiVersionString,null,"?v="+c.pixiVersionString+location.hash),c.updateMenu(),c.generateIFrameContent(),l(".main-content").animate({scrollTop:0},200))}),l(".footer .download").on(c.clickType,function(){c.SaveToDisk(c.exampleUrl,c.exampleFilename)}),l(".reload").on(c.clickType,function(){c.exampleSourceCode=c.editor.getValue(),c.generateIFrameContent()})},c.SaveToDisk=function(e,i){if(window.ActiveXObject){if(window.ActiveXObject&&document.execCommand){var t=window.open(e,"_blank");t.document.close(),t.document.execCommand("SaveAs",!0,i||e),t.close()}}else{var a=document.createElement("a");a.href=e,a.target="_blank",a.download=i||"unknown";var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});a.dispatchEvent(n),(window.URL||window.webkitURL).revokeObjectURL(a.href)}},c.init=function(){/MSIE (\d+\.\d+);/.test(navigator.userAgent)&&(c.clickType="click"),l(window).resize(c.resize),c.loadScriptsAsync()},c.init()});